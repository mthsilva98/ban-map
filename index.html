<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Veto de Mapas - Sudden Attack</title>

    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>

    <script>
      // SUAS CONFIGURAÇÕES DO FIREBASE AQUI
      var firebaseConfig = {
        apiKey: "AIzaSyDNKOe9l0sGsDiRoGcvFWESXb9oHO-qPOw", // SEU API KEY
        authDomain: "vetodemapas.firebaseapp.com", // SEU AUTH DOMAIN
        projectId: "vetodemapas", // SEU PROJECT ID
        storageBucket: "vetodemapas.firebasestorage.app", // SEU STORAGE BUCKET
        messagingSenderId: "264040626545", // SEU MESSAGING SENDER ID
        appId: "1:264040626545:web:43bc16e2d57a78a5021ed0" // SEU APP ID
      };

      // Inicialize o Firebase
      firebase.initializeApp(firebaseConfig);

      // Referência global para o banco de dados Firestore
      const db = firebase.firestore();
    </script>

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header class="main-header">
        <img src="img/sudden-attack-logo.png" alt="Sudden Attack Logo" class="logo">
    </header>

    <main class="main-content">
        <section id="setup-section" class="card">
            <h1>Sistema de Veto de Mapas</h1>
            <p>Configure o formato da partida e gere os links para as equipes</p>

            <div class="format-selection">
                <h2>Selecione o Formato da Partida</h2>
                <div class="format-options">
                    <div class="format-card" data-format="md1">
                        <h3>MD1</h3>
                        <p>Melhor de 1 - Vetos alternados até sobrar 1 mapa</p>
                    </div>
                    <div class="format-card" data-format="md3">
                        <h3>MD3</h3>
                        <p>Melhor de 3 - Vetos e picks até 3 mapas</p>
                    </div>
                    <div class="format-card" data-format="md5">
                        <h3>MD5</h3>
                        <p>Melhor de 5 - Vetos e picks até 5 mapas</p>
                    </div>
                </div>
                <button id="startButton" class="btn primary" disabled>Iniciar Veto <span id="selectedFormatText"></span></button>
            </div>
        </section>

        <section id="links-section" class="card hidden">
            <h1>Links Gerados - Sessão <span id="sessionIdDisplay"></span></h1>

            <div class="link-item">
                <i class="fas fa-user-friends"></i>
                <label for="teamALink">Equipe A</label>
                <div class="link-input-group">
                    <input type="text" id="teamALink" readonly>
                    <button class="copy-btn" data-target="teamALink"><i class="fas fa-copy"></i></button>
                    <a href="#" target="_blank" class="open-link-btn" data-target="teamALink"><i class="fas fa-external-link-alt"></i></a>
                </div>
            </div>

            <div class="link-item">
                <i class="fas fa-users"></i>
                <label for="teamBLink">Equipe B</label>
                <div class="link-input-group">
                    <input type="text" id="teamBLink" readonly>
                    <button class="copy-btn" data-target="teamBLink"><i class="fas fa-copy"></i></button>
                    <a href="#" target="_blank" class="open-link-btn" data-target="teamBLink"><i class="fas fa-external-link-alt"></i></a>
                </div>
            </div>

            <div class="link-item">
                <i class="fas fa-eye"></i>
                <label for="spectatorLink">Espectador</label>
                <div class="link-input-group">
                    <input type="text" id="spectatorLink" readonly>
                    <button class="copy-btn" data-target="spectatorLink"><i class="fas fa-copy"></i></button>
                    <a href="#" target="_blank" class="open-link-btn" data-target="spectatorLink"><i class="fas fa-external-link-alt"></i></a>
                </div>
            </div>

            <button id="createNewSessionButton" class="btn secondary">Criar Nova Sessão</button>
        </section>

        <section id="continue-session-section" class="card hidden">
            <h1>Sessão Ativa Detectada!</h1>
            <p id="currentSessionInfo">Uma sessão está em andamento.</p>
            <div class="button-group">
                <button id="continueSessionButton" class="btn primary">Continuar Sessão</button>
                <button id="startNewSessionButton" class="btn secondary">Iniciar Nova Sessão</button>
            </div>
        </section>

        <section id="team-section" class="team-interface hidden">
            <h1 id="teamNameDisplay">Nome da Equipe</h1>
            <p id="currentActionDisplay"></p>
            <div class="team-interface-content">
                <div class="map-pool-container">
                    <h2>Mapas Disponíveis</h2>
                    <div id="availableMaps" class="map-grid">
                        </div>
                </div>
                <div class="sidebar">
                    <div class="history-container">
                        <h2>Histórico de Ações</h2>
                        <ul id="actionHistory" class="action-list">
                            </ul>
                    </div>
                    <div class="final-maps-container">
                        <h2>Mapas Finais</h2>
                        <ul id="finalMapsList" class="final-list">
                            </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="spectator-section" class="spectator-interface hidden">
            <h1>Visualização da Partida</h1>
            <p id="spectatorStatus"></p>
            <div class="spectator-content">
                <div class="map-overview">
                    <h2>Pool de Mapas</h2>
                    <div id="spectatorMapGrid" class="map-grid">
                        </div>
                </div>
                <div class="sidebar">
                    <div class="history-container">
                        <h2>Histórico Completo</h2>
                        <ul id="spectatorHistory" class="action-list">
                            </ul>
                    </div>
                    <div class="final-maps-container">
                        <h2>Mapas Escolhidos</h2>
                        <ul id="spectatorFinalMaps" class="final-list">
                            </ul>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <script src="js/script.js"></script>
</body>
</html>